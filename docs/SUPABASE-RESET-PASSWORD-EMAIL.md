# إصلاح: ظهور رابط استعادة كلمة المرور كنص غير قابل للنقر

إذا وصل بريد "Reset Password" لكن الرابط يظهر كنص عادي ولا يُفتح عند النقر، السبب أن **قالب البريد** في Supabase لا يستخدم رابط HTML صحيح.

## الحل من لوحة Supabase

### 1. فتح قوالب البريد

1. ادخل إلى [Supabase Dashboard](https://supabase.com/dashboard) واختر مشروعك.
2. من القائمة الجانبية: **Authentication**.
3. من القائمة الفرعية: **Email Templates**.
4. اختر القالب: **Reset Password** (أو **Magic Link** إن كان يستخدم للاستعادة).

### 2. تعديل القالب ليكون الرابط قابل النقر

يجب أن يكون **نص القالب (Body)** بصيغة **HTML** ويحتوي على الرابط داخل وسم `<a href="...">`.

**استبدل المحتوى الحالي بمثاله التالي:**

**Subject (الموضوع):**
```
إعادة تعيين كلمة المرور - Trackify
```

**Body (محتوى الرسالة):**
```html
<h2>إعادة تعيين كلمة المرور</h2>
<p>مرحباً،</p>
<p>تم طلب إعادة تعيين كلمة المرور لحسابك. اضغط الرابط التالي لتعيين كلمة مرور جديدة:</p>
<p style="margin: 24px 0;">
  <a href="{{ .ConfirmationURL }}" style="display: inline-block; padding: 12px 24px; background-color: #4f46e5; color: white; text-decoration: none; border-radius: 8px; font-weight: bold;">إعادة تعيين كلمة المرور</a>
</p>
<p>إذا لم تطلب هذا، يمكنك تجاهل هذه الرسالة.</p>
<p style="color: #64748b; font-size: 12px;">هذا الرابط صالح لفترة محدودة.</p>
```

المهم: استخدام **`{{ .ConfirmationURL }}`** داخل `href` في وسم `<a>` حتى يصبح الرابط فعلياً قابلاً للنقر في كل بريد (Gmail، Outlook، إلخ).

### 3. الحفظ

- اضغط **Save**.
- جرّب "نسيت كلمة المرور؟" مرة أخرى من التطبيق وتحقّق أن الرابط في البريد يظهر كزر/رابط قابل للنقر.

---

**ملاحظة:** إن كان القالب يظهر كـ "Plain text" أو بدون وسوم HTML، غيّره إلى النص أعلاه (HTML) واحفظ. بعدها ستُرسل الرسائل كـ HTML والرابط سيعمل بشكل صحيح.
